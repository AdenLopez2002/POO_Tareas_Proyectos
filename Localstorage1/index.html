<!DOCTYPE html> 
<html lang="en">
<head> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora con LocalStorage</title>
    <style>
        input, h1 {
            width: 200px;
            height:25px;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            margin-bottom: 20px;
            
        }
        button{
            width: 50px;
            height: 50px;
            color: white;
            background-color: grey;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
        }
        .op{
            background-color: orange;
        }
    </style>
</head>

<body>
    <h1>Calculadora</h1>
    <input type="text" id="display" readonly>
    <br>
    <button onclick="toDisplay('1')">1</button>
    <button onclick="toDisplay('2')">2</button>
    <button onclick="toDisplay('3')">3</button>
    <button onclick="toDisplay('+')" class="op">+</button>
    <br>
    <button onclick="toDisplay('4')">4</button>
    <button onclick="toDisplay('5')">5</button>
    <button onclick="toDisplay('6')">6</button>
    <button onclick="toDisplay('-')" class="op">-</button>
    <br>
    <button onclick="toDisplay('7')">7</button>
    <button onclick="toDisplay('8')">8</button>
    <button onclick="toDisplay('9')">9</button>
    <button onclick="toDisplay('*')" class="op">X</button>
    <br>
    <button onclick="toDisplay('0')">0</button>
    <button onclick="calcular()">=</button>
    <button onclick="limpiarDisplay()">C</button>
    <button onclick="toDisplay('/')" class="op">%</button>

    <script>
        const display = document.getElementById('display');

        // Función para agregar texto al display
        function toDisplay(value) {
            display.value += value;
        }

        // Función para calcular el resultado y almacenar en LocalStorage
        function calcular() {
            try {
                const result = eval(display.value);
                display.value = result;
                localStorage.setItem('calculatorResult', display.value); //crea y guarda en LocalStorage
            } catch (error) {
                display.value = 'Error';
            }
        }

        // Función para borrar el display y limpiar LocalStorage
        function limpiarDisplay() {
            display.value = '';
            localStorage.removeItem('calculatorResult'); 
        }


        // Función para cargar el resultado almacenado en LocalStorage al cargar la página
        window.onload = function() {
            const storedResult = localStorage.getItem('calculatorResult');
            if (storedResult) {
                display.value = storedResult;
            }
        };
    </script>
</body>
</html>
